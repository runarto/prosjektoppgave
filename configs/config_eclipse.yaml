# Eclipse Scenario
# Sun sensor unavailable during eclipse periods (simulated via high dropout)

time:
  process_dt: 0.02
  sim_dt: 0.02
  sim_T: 3000.0               # 50 minutes
  start_jd: 2459980.5

sensors:
  gyro:
    dt: 0.02                  # 50 Hz
    noise:
      # STIM300 specifications (from Safran datasheet)
      arw_deg: 0.15         # Angle Random Walk [deg/√h]
      rrw_deg: 0.5          # Rate Random Walk [deg/h/√h] (estimated ≈ bias instability)
      bias_instability_deg_per_h: 0.01  # deg/h
    scaling:
      noise_scale: 1.0

  mag:
    mag_std: 1.0e-3
    dt: 0.1                   # 10 Hz

    bias_rw_std: 1.0e-9
    bias_init: [1.0e-8, 1.0e-8, 1.0e-8]
    hard_iron: [0.0, 0.0, 0.0]
    soft_iron:
      - [1.00, 0.00, 0.00]
      - [0.00, 1.00, 0.00]
      - [0.00, 0.00, 1.00]

    spikes:
      enabled: false

  sun:
    dt: 1.0                   # 1 Hz
    fov_deg: 120.0

    bias:
      rw_std: 1.0e-9
      init: [1.0e-7, 1.0e-7, 1.0e-7]

    noise:
      sun_std: 1.0e-4

    dropout:
      probability: 0.30       # 30% dropout (simulating eclipse periods)
      use_measurements: true

    spikes:
      enabled: false

    scaling:
      noise_scale: 1.0

  star:
    dt: 0.5                   # 2 Hz

    noise:
      st_std: 5.0e-6          # rad (~1 arcsecond)

    bias:
      rw_std: 1.0e-10
      init: [1.0e-8, 1.0e-8, 1.0e-8]

    dropout:
      probability: 0.05       # 5% dropout
      use_measurements: true
      max_rate_deg_s: 5.0     # Lost during fast maneuvers

    spikes:
      enabled: false

    scaling:
      noise_scale: 1.0

process_model:
  dt: 0.02

omega_profile:
  # Nominal satellite motion
  amplitude:
    x: 0.02                   # rad/s (~1°/s)
    y: 0.01
    z: 0.015
  frequency:
    x: 0.01                   # Hz
    y: 0.008
    z: 0.005

simulation:
  run_name: "eclipse"
